<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="email_template_pickup" model="mail.template">
        <field name="name">Reminder: Pickup</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="subject">Email for pickup ${object.env['ir.config_parameter'].get_param('sr_resource_rental_management.reminder_pickup_order_days')}</field>
        <field name="email_from">${(object.user_id.email_formatted or user.email_formatted) | safe}</field>
        <field name="partner_to">${object.partner_id.id}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px;">
                <p style="margin: 0px; padding: 0px; font-size: 13px;">
                    Hello ${object.partner_id.name},<br/>
                    &#160;&#160;&#160;&#160;This is formal reminder for your pickup rental order <strong>${object.name}</strong> after ${object.env['ir.config_parameter'].get_param('sr_resource_rental_management.reminder_pickup_order_days')} days on ${object.pickup_date}.<br/>
                    Regards
                </p>
                <br/>
                <br/>
                <br/>
                %if object.order_line:
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th class="text-left">Product</th>
                            <th class="text-left">Description</th>
                            <th class="text-right">Quantity</th>
                            <th>UnitPrice</th>
                            <th>Taxes</th>
                            <th class="text-left">Subtotal</th>
                        </tr>
                    </thead>
                    %for line in object.order_line:
                        %if line.check_pickup():
                            <tbody>
                                <tr>
                                    <td class="text-left">${line.product_id.name}</td>
                                    <td class="text-left">${line.name}</td>
                                    <td class="text-right">${line.product_uom_qty}</td>
                                    <td>${line.price_unit}</td>
                                    <td>${line.get_tax_name()}</td>
                                    <td class="text-left">${line.price_subtotal}</td>
                                </tr>
                            </tbody>
                        %endif
                    %endfor
                </table>
                %endif
            </div>
        </field>
        <field name="lang">${object.partner_id.lang}</field>
        <field name="auto_delete" eval="True"/>
    </record>

    <record id="email_template_return" model="mail.template">
        <field name="name">Reminder: Return</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="subject">Email for Return ${object.env['ir.config_parameter'].get_param('sr_resource_rental_management.reminder_return_order_days')}</field>
        <field name="email_from">${(object.user_id.email_formatted or user.email_formatted) | safe}</field>
        <field name="partner_to">${object.partner_id.id}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px;">
                <p style="margin: 0px; padding: 0px; font-size: 13px;">
                    Hello ${object.partner_id.name},<br/>
                    &#160;&#160;&#160;&#160;This is formal reminder for your return rental order <strong>${object.name}</strong>  after ${object.env['ir.config_parameter'].get_param('sr_resource_rental_management.reminder_return_order_days')} days on ${object.return_date}.<br/>
                    Regards
                </p>
                <br/>
                <br/>
                <br/>
                %if object.order_line:
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th class="text-left">Product</th>
                            <th class="text-left">Description</th>
                            <th class="text-right">Quantity</th>
                            <th class="text-right">Qty Delivered</th>
                            <th>Unit Price</th>
                            <th>Taxes</th>
                            <th class="text-left">Subtotal</th>
                        </tr>
                    </thead>
                    %for line in object.order_line:
                        %if line.check_return():
                            <tbody>
                                <tr>
                                    <td class="text-left">${line.product_id.name}</td>
                                    <td class="text-left">${line.name}</td>
                                    <td class="text-right">${line.product_uom_qty}</td>
                                    <td class="text-right">${line.qty_delivered}</td>
                                    <td>${line.price_unit}</td>
                                    <td>${line.get_tax_name()}</td>
                                    <td class="text-left">${line.price_subtotal}</td>
                                </tr>
                            </tbody>
                        %endif
                    %endfor
                </table>
                %endif
            </div>
        </field>
        <field name="lang">${object.partner_id.lang}</field>
        <field name="auto_delete" eval="True"/>
    </record>
</odoo>