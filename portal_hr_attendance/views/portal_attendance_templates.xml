<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- 1) Portal My Attendance Page -->
        <template id="portal_my_attendance_check" name="Portal My Attendance">
            <t t-call="portal.portal_layout">
                <div class="container mt-5 mb-5">
                    <h2 class="text-center mb-4">Check In or Check Out</h2>
                    
                    <div class="text-center">
                        <h3>Hi <t t-esc="employee_name"/>!</h3>
                        <p>Today's hours: <t t-esc="total_hours" /> </p>
                        
                        <t t-if="is_checked_in">
                            <!-- If currently checked in, show Check-Out button -->
                            <!-- <button type="button" class="btn btn-danger btn-lg"
                                    t-att-onclick="`toggleAttendance()`"> -->
                            <button type="button" class="btn btn-danger btn-lg" t-att-onclick="'toggleAttendance()'"/>
                            <button type="button" class="btn btn-primary btn-lg" t-att-onclick="'toggleAttendance()'"/>

                            <!-- <button type="button" class="btn btn-danger btn-lg" onclick="toggleAttendance()"/> -->

                                <!-- Click here to sign out
                            </button> -->
                        </t>
                        <t t-else="">
                            <!-- If not checked in, show Check-In button -->
                            <button type="button" class="btn btn-primary btn-lg" t-att-onclick="'toggleAttendance()'"/>

                            <!-- <button type="button" class="btn btn-primary btn-lg"
                                    t-att-onclick="`toggleAttendance()`">
                                Click here to sign in
                            </button> -->
                        </t>
                    </div>
                </div>
                
            </t>
        </template>

        
        <!-- <template id="assets_frontend_attendance_toggle" inherit_id="web.assets_frontend" name="Attendance Toggle JS">
            <xpath expr="." position="inside">
                <script type="text/javascript" src="/portal_hr_attendance/static/src/js/attendance_toggle.js"></script>
            </xpath>
        </template> -->

        <template id="portal_my_home_attendance" inherit_id="portal.portal_my_home" priority="10">
        <xpath expr="//div[@id='portal_client_category']" position="inside">
            <div class="o_portal_index_card col-md-6">
            <a href="/my/attendance_check" class="list-group-item list-group-item-action d-flex align-items-center justify-content-between">
                <img width="64px" src="/portal_hr_attendance/static/img/attendance_icon.svg" />
                <span>Check In / Check Out</span>
            </a>
            </div>
        </xpath>
        </template>

    </data>
</odoo>
